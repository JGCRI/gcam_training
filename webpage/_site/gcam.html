<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>gcam_training</title>

<script src="site_libs/header-attrs-2.22/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">gcam_training</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="gcam.html">
    <span class="fas fa-book"></span>
     
    GCAM
  </a>
</li>
<li>
  <a href="courses.html">
    <span class="fas fa-graduation-cap"></span>
     
    Courses
  </a>
</li>
<li>
  <a href="disclaimer.html">Disclaimer</a>
</li>
<li>
  <a href="https://github.com/JGCRI/gcam_training">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<!-- Logos -->
<div class="header_logo">
<p><img src="images/logo_pnnl_white.png" style="float:right;height:40px;"></p>
</div>
<!-- Allow href to tabsets -->
<script>
window.onload = function() {
  document.querySelector('a[href="' + window.location.href.match("#.*$") + '"]').click();
}

function goToTab() {
  var hash = String(window.location.href.match("#.*$"));
  var target = document.querySelector("a[role = 'tab'][href='" + hash + "']");
  if (target !== null) {
    var greatgrandparent = target.parentElement.parentElement.parentElement;
    if (greatgrandparent.getAttribute("role") == "tabpanel") {
      document.querySelector("a[role = 'tab'][href='#" + greatgrandparent.getAttribute("id") + "']").click();
    }
    target.click();
    target.scrollIntoView();
  }
}
window.onload = function() {
  setTimeout(goToTab, 100);
}
window.onhashchange = goToTab;
</script>
<style type="text/css">
script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"
</style>
<script>
 $(document).ready(function() {
    $('body').prepend('<div class=\"zoomDiv\"><img src=\"\" class=\"zoomImg\"></div>');
    // onClick function for all plots (img's)
    $('img:not(.zoomImg)').click(function() {
      $('.zoomImg').attr('src', $(this).attr('src')).css({width: '100%'});
      $('.zoomDiv').css({opacity: '1', width: 'auto', border: '1px solid white', borderRadius: '5px', position: 'fixed', top: '50%', left: '50%', marginRight: '-50%', transform: 'translate(-50%, -50%)', boxShadow: '0px 0px 50px #888888', zIndex: '1000', overflow: 'auto', maxHeight: '100%'});
    });
    // onClick function for zoomImg
    $('img.zoomImg').click(function() {
      $('.zoomDiv').css({opacity: '0', width: '0%'}); 
    });
  });
</script>
<!-- Set table styles -->
<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}
</style>
<!-------------------------->
<!-------------------------->
<div id="key-links" class="section level1">
<h1>Key Links</h1>
<!-------------------------->
<!-------------------------->
<p align="center">
<img src="images/divider.png">
</p>
<p><br></p>
<table class="table table-bordered table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Link
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Official Documentation
</td>
<td style="text-align:left;">
<a href="http://jgcri.github.io/gcam-doc/index.html"
class="uri">http://jgcri.github.io/gcam-doc/index.html</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
FAQs, issues and discussions
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam-core/discussions"
class="uri">https://github.com/JGCRI/gcam-core/discussions</a>
</td>
</tr>
</tbody>
</table>
<p><br></p>
<!-------------------------->
<!-------------------------->
</div>
<div id="tutorials" class="section level1 tabset tabset-pills">
<h1 class="tabset tabset-pills">Tutorials</h1>
<!-------------------------->
<!-------------------------->
<p align="center">
<img src="images/divider.png">
</p>
<p>This section lists videos and presentations for selected releases of
GCAM. These materials are usually presented at the GCAM annual meeting
and curated here as a persistent reference.</p>
<p><br></p>
<div id="gcam-6.0" class="section level2">
<h2>GCAM 6.0</h2>
<hr />
<table class="table table-bordered table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
File
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Location
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
gcam6p0_walkthrough.pdf
</td>
<td style="text-align:left;">
GCAM 6.0 walkthrough presentation (how to run GCAM)
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/presentations/gcam6p0_walkthrough.pdf" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
<div class="video_box">
<figure>
<figcaption>
GCAM 6.0 Install Windows
</figcaption>
<iframe width="200" height="200" src="https://www.youtube.com/embed/EGxh-MFqRIs?rel=0" frameborder="0" allowfullscreen>
</iframe>
</figure>
</div>
<div class="video_box">
<figure>
<figcaption>
GCAM 6.0 Install MacOS
</figcaption>
<iframe width="200" height="200" src="https://www.youtube.com/embed/c8DmPHHO6DA&amp;t=2s?rel=0" frameborder="0" allowfullscreen>
</iframe>
</figure>
</div>
<p><br></p>
</div>
<div id="gcam-5.4" class="section level2">
<h2>GCAM 5.4</h2>
<hr />
<table class="table table-bordered table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
File
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Location
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
gcam5p4_overview.pdf
</td>
<td style="text-align:left;">
GCAM 5.4 overview presentation
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/presentations/gcam5p4_overview.pdf" style="     ">Link</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
gcam5p4_walkthrough.pdf
</td>
<td style="text-align:left;">
GCAM 5.4 walkthrough presentation
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/presentations/gcam5p4_walkthrough.pdf" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
<div class="video_box">
<figure>
<figcaption>
GCAM 5.4 Overview
</figcaption>
<iframe width="200" height="200" src="https://www.youtube.com/embed/13tBgM_JWXc?rel=0" frameborder="0" allowfullscreen>
</iframe>
</figure>
</div>
<div class="video_box">
<figure>
<figcaption>
What’s new in GCAM 5.4?
</figcaption>
<iframe width="200" height="200" src="https://www.youtube.com/embed/SI61E7_VJ-E?rel=0" frameborder="0" allowfullscreen>
</iframe>
</figure>
</div>
<p><br></p>
<!-------------------------->
</div>
<div id="gcamdata" class="section level2">
<h2>gcamdata</h2>
<!-------------------------->
<hr />
<table class="table table-bordered table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
File
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Location
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
gcamdata.pdf
</td>
<td style="text-align:left;">
Introduction to gcamdata (GCAM’s data system), including R package
management with renv
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/presentations/gcam_annual_meeting_2023_trainings/gcamdata.pdf" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
<div class="video_box">
<figure>
<figcaption>
gcamdata renv
</figcaption>
<iframe width="200" height="200" src="https://www.youtube.com/embed/EO6NPCf7lKc?rel=0" frameborder="0" allowfullscreen>
</iframe>
</figure>
</div>
<div class="video_box">
<figure>
<figcaption>
gcamdata User Functions
</figcaption>
<iframe width="200" height="200" src="https://www.youtube.com/embed/S9PwWAEpLIE?rel=0" frameborder="0" allowfullscreen>
</iframe>
</figure>
</div>
<p><br></p>
</div>
<div id="gcam-software-used" class="section level2">
<h2>GCAM Software Used</h2>
<hr />
<p style="margin-bottom:1em; margin-left:1em; text-align:center;">
<br>
<img src="images/gcam_software_map.jpg" width="60%" style="display: block; margin: auto;" />
</p>
<p><br></p>
</div>
<div id="other-resources" class="section level2">
<h2>Other resources</h2>
<hr />
<table class="table table-bordered table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
File
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Location
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
scenario_adjustment.pdf
</td>
<td style="text-align:left;">
Guide to designing and implementing scenarios in GCAM
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/presentations/gcam_annual_meeting_2023_trainings/scenario_adjustment.pdf" style="     ">Link</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
create_xmls_user_mod.pdf
</td>
<td style="text-align:left;">
Guide to modifying GCAM’s XML inputs, creating new XMLs, and using user
modification functions in gcamdata
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/presentations/gcam_annual_meeting_2023_trainings/create_xmls_user_mod.pdf" style="     ">Link</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
GCAM-USA.pdf
</td>
<td style="text-align:left;">
Introduction to GCAM-USA
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/presentations/gcam_annual_meeting_2023_trainings/GCAM-USA.pdf" style="     ">Link</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
querying_GCAM_outputs.pdf
</td>
<td style="text-align:left;">
Guide to querying GCAM outputs using Model Interface and rgcam
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/presentations/gcam_annual_meeting_2023_trainings/querying_GCAM_outputs.pdf" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
</p>
<p><br></p>
<!-------------------------->
<!-------------------------->
</div>
</div>
<div id="scenario-adjustments" class="section level1">
<h1>Scenario Adjustments</h1>
<!-------------------------->
<!-------------------------->
<p align="center">
<img src="images/divider.png">
</p>
<p>This section details how to adjust scenarios in GCAM to explore
different policy and technology pathways or objectives. The list will
continue to be expanded on as we gather relevant examples and use-cases.
For each scenario adjustment we provide:</p>
<ul>
<li>Relevant example files</li>
<li>Goal of the adjustment</li>
<li>General approach</li>
<li>Relevant background information related to the adjustment</li>
<li>Step-by-step guide to implementing the adjustment in GCAM</li>
<li>Example outputs</li>
</ul>
<div id="electricity-generation-mix" class="section level2">
<h2>Electricity Generation Mix</h2>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Files Used
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Link
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
indonesia_electricity_generation_constraints.xml
</td>
<td style="text-align:left;">
Setting constraints: floors for wind and solar; ceiling for coal
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/examples/electricity_generation_constraints.xml" style="     ">Link</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
indonesia_electricity_generation_techs.xml
</td>
<td style="text-align:left;">
Applying constraints to electricity generation technologies
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/examples/electricity_generation_constraint_techs.xml" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
<!-------------------------->
<!----------Goal------------>
<!-------------------------->
<div class="warning"
style="background-color:#E1F4F5; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>Goal</b>
</p>
<p style="margin-left:1em;">
<p>This example demonstrates how to set floors and ceilings for
electricity generation by fuel in GCAM. We will set floors (minimum
required generation amounts) for wind and solar and a ceiling (maximum
generation amount) for coal from 2025 through 2040.</p>
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!--------Approach---------->
<!-------------------------->
<div class="warning"
style="background-color:#fffae0; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<p><span></p>
<p style="text-align:center; font-size:24px">
<b>Approach</b>
</p>
<p style="margin-left:1em;">
<p>We can use a <code>policy-portfolio-standard</code> to set floors and
ceilings for each fuel. This will decrease (increase) the cost of the
electricity generation technologies until the floor (ceiling) is
satisfied.</p>
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!--------Background-------->
<!-------------------------->
<!--------------------------------------------->
<!---Background - Policy portfolio standards--->
<!--------------------------------------------->
<div class="warning"
style="background-color:#EFFFC9; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<p><span></p>
<p style="text-align:center; font-size:24px">
<b>Background - Policy portfolio standards</b>
</p>
<p style="margin-left:1em;">
A <code>policy-portfolio-standard</code> in GCAM is a policy that can be
used to implement taxes, subsidies, floors, ceilings, and constraints.
Taxes and subsidies can be specified when the exact amount to be added
or subtracted to the price is known. However, a
<code>policy-portfolio-standard</code> can also contain a
<code>constraint</code>, which acts as either a floor or ceiling for the
technology or technologies included. Exact constraints can also be
implemented. See the <a
href="https://jgcri.github.io/gcam-doc/policies_examples.html">GCAM
Policy Examples</a> documentation for more information on how to
implement these options.
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!---GCAM Implementation---->
<!-------------------------->
<div class="warning"
style="background-color:#F5E5E1; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>GCAM Implementation</b>
</p>
<p style="margin-left:1em;">
<ol style="list-style-type: decimal">
<li>Create a folder in the input directory eg.
<code>./gcam-core/input/addons</code>.</li>
<li>Download the example xml files <a
href="https://github.com/JGCRI/gcam_training/blob/main/examples/electricity_generation_constraints.xml">electricity_generation_constraints.xml</a>
and <a
href="https://github.com/JGCRI/gcam_training/blob/main/examples/electricity_generation_constraint_techs.xml">electricity_generation_constraint_techs.xml</a>
to the folder.</li>
<li>Within each <code>policy-portfolio-standard</code> tag in the first
XML, adjust the following:</li>
</ol>
</p>
<ul style="margin-left:4em; text-align:left;">
<li>
<code>constraint</code> for each year in which a floor is desired
</li>
<li>
Set <code>min-price</code> to a large negative value for years in which
an exact constraint, rather than a floor, is desired
</li>
</ul>
<p style="margin-left:1em;">
<ol start="5" style="list-style-type: decimal">
<li>Within each <code>supplysector</code> tag in the second XML, make
sure that the corresponding <code>input-subsidy</code> is added within
each relevant <code>period</code> for each <code>stub-technology</code>
you wish to include in the constraint.</li>
</ol>
<p style="margin-bottom:1em; margin-left:1em; text-align:center;">
<b>Example XML structures</b> <br>
<img src="images/adjust_elec_gen_both.png"> <i>Note:
<code>min-price</code> should be set to a large negative number (e.g.,
-10000) for years in which an exact constraint is desired rather than a
floor or ceiling. Otherwise, it can remain at the default (0).</i>
</p>
<ol start="6" style="list-style-type: decimal">
<li>Save the XMLs and then point to them in your configuration file by
adding the lines:
<p style='font-size:0.8em'>
<code>&lt;Value name = "scen"&gt;../input/addons//electricity_generation_constraints.xml&lt;/Value&gt;</code>
<code>&lt;Value name = "scen"&gt;../input/addons//electricity_generation_constraint_techs.xml&lt;/Value&gt;</code></li>
</ol>
</p>
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!------Example Output------>
<!-------------------------->
<div class="warning"
style="background-color:#efe1f5; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>Example Output</b>
</p>
<p style="margin-bottom:1em; margin-left:1em; text-align:center;">
<br> <img src="images/elec_gen_chart.jpg">
</p>
<p></span></p>
</div>
<p><br></p>
</div>
<div id="building-envelope-efficiency" class="section level2">
<h2>Building Envelope Efficiency</h2>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Files Used
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Link
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
buildings_shell_efficiency.xml
</td>
<td style="text-align:left;">
Modifies shell conductance to represent enhanced building envelope
efficiency improvement
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/examples/buildings_shell_efficiency.xml" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
<!-------------------------->
<!----------Goal------------>
<!-------------------------->
<div class="warning"
style="background-color:#E1F4F5; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>Goal</b>
</p>
<p style="margin-left:1em;">
<p>This example demonstrates how to modify building envelope
efficiencies in GCAM. We will increase efficiency over time, which could
be used to represent increasing compliance with the envelope efficiency
component of building energy codes.</p>
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!--------Approach---------->
<!-------------------------->
<div class="warning"
style="background-color:#fffae0; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<p><span></p>
<p style="text-align:center; font-size:24px">
<b>Approach</b>
</p>
We can use GCAM’s <code>shell-conductance</code> parameter to represent
an increase in building envelope efficiency.
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!--------Background---------->
<!-------------------------->
<!------------------------------------------------->
<!---Background - Building Cooling Demand---------->
<!------------------------------------------------->
<div class="warning"
style="background-color:#EFFFC9; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<p><span></p>
<p style="text-align:center; font-size:24px">
<b>Background - Cooling Demand</b>
</p>
<p style="margin-left:1em;">
Cooling demand in GCAM depends on the indoor-outdoor temperature
difference (measured using cooling degree days or CDD), the building’s
shell conductance, and the building’s external heat gains along with GDP
and price factors. For more details and to view the equation used to
calculate cooling demand, see the <strong>Building service
demand</strong> section of the <a
href="https://jgcri.github.io/gcam-doc/demand_energy.html#equations">GCAM
energy demand documentation</a>. GCAM’s <code>shell-conductance</code>
parameter is the inverse of building envelope efficiency. Its units are
watts per square meter per degree Kelvin and it represents the amount of
heat transferred through the building’s exterior when there is a
difference between the indoor and outdoor temperature.
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!---GCAM Implementation---->
<!-------------------------->
<div class="warning"
style="background-color:#F5E5E1; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>GCAM Implementation</b>
</p>
<p style="margin-left:1em;">
<ol style="list-style-type: decimal">
<li>Create a folder in the input directory:
<code>./gcam-core/input/addons</code>.</li>
<li>Download the example xml file <a
href="https://github.com/JGCRI/gcam_training/blob/main/examples/buildings_shell_efficiency.xml">buildings_shell_efficiency.xml</a>
to the folder.</li>
<li>Within each <code>gcam-consumer</code> tag in the XML, specify the
desired <code>shell-conductance</code> values for each year.</li>
</ol>
<p style="margin-bottom:1em; margin-left:1em; text-align:center;">
<b>Example XML structure</b> <br>
<img src="images/adjust_shell_eff.png">
</p>
<ol start="5" style="list-style-type: decimal">
<li>Save the xml and then point to it in your configuration file by
adding the line:
<p style='font-size:0.8em'>
<code>&lt;Value name = "scen"&gt;../input/addons/buildings_shell_efficiency.xml&lt;/Value&gt;</code></li>
</ol>
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!------Example Output------>
<!-------------------------->
<div class="warning"
style="background-color:#efe1f5; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>Example Output</b>
</p>
<p style="margin-bottom:1em; margin-left:1em; text-align:center;">
<br> <img src="images/shell_eff_chart.jpg">
</p>
<p></span></p>
</div>
<p><br></p>
</div>
<div id="modifying-technology-costs---evs" class="section level2">
<h2>Modifying technology costs - EVs</h2>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Files Used
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Link
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
transportation_UCD_CORE.csv
</td>
<td style="text-align:left;">
XML containing reference transportation technology costs
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/examples/transportation_UCD_CORE.xml" style="     ">Link</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
adjust_ev_tech_cost.xml
</td>
<td style="text-align:left;">
XML for modifying 4-wheel passenger BEV costs
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/examples/adjust_ev_tech_cost.xml" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
<!-------------------------->
<!----------Goal------------>
<!-------------------------->
<div class="warning"
style="background-color:#E1F4F5; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>Goal</b>
</p>
<p style="margin-left:1em;">
<p>This example demonstrates how to modify non-energy costs of
transportation technologies in GCAM. We will decrease these costs for
4-wheel passenger BEVs from 2020 to 2050 to represent policies that
lower EV costs.</p>
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!--------Approach---------->
<!-------------------------->
<div class="warning"
style="background-color:#fffae0; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<p><span></p>
<p style="text-align:center; font-size:24px">
<b>Approach</b>
</p>
<p style="margin-left:1em;">
We can use GCAM’s <code>input-cost</code> parameter, which represents
the non-energy costs of a given technology.
</p>
<p></span></p>
</div>
<p><br></p>
<!--------------------------->
<!--------Background--------->
<!--------------------------->
<!-------------------------->
<!---GCAM Implementation---->
<!-------------------------->
<div class="warning"
style="background-color:#F5E5E1; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>GCAM Implementation</b>
</p>
<p style="margin-left:1em;">
<ol style="list-style-type: decimal">
<li>Create a folder in the input directory:
<code>./gcam-core/input/addons</code>.</li>
<li>Download the example xml file <a
href="https://github.com/JGCRI/gcam_training/blob/main/examples/adjust_ev_tech_cost.xml">adjust_ev_cost.xml</a>
to the folder.</li>
<li>In each appropriate <code>stub-technology</code> tag (within each
<code>tranSubsector</code> tag) in the XML, set the desired
<code>input-cost</code> for each year. Add other
<code>supplysector</code> tags to include technologies outside of
4-wheel LDVs.</li>
</ol>
<p style="margin-bottom:1em; margin-left:1em; text-align:center;">
<b>Example XML structure</b> <br> <img src="images/adjust_ev_cost.png">
</p>
<ol start="5" style="list-style-type: decimal">
<li>Save the xml and then point to it in your configuration file by
adding the line:</li>
</ol>
</p>
<p style="font-size:0.8em">
<code>&lt;Value name = "scen"&gt;../input/addons/adjust_ev_tech_cost.xml&lt;/Value&gt;</code>
</p>
</p>
<p></span></p>
</div>
<p><br></p>
</div>
<div id="transport-mode-shift---share-weights" class="section level2">
<h2>Transport Mode Shift - Share weights</h2>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Files Used
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Link
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
adjust_shareweight_rail.xml
</td>
<td style="text-align:left;">
XML for setting passenger rail share weight dynamics
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/examples/adjust_shareweight_rail.xml" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
<!-------------------------->
<!----------Goal------------>
<!-------------------------->
<div class="warning"
style="background-color:#E1F4F5; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>Goal</b>
</p>
<p style="margin-left:1em;">
<p>This example demonstrates how to adjust share-weights in GCAM. We
will increase the share-weight of passenger rail transport over time to
represent policies that increase rail infrastructure.</p>
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!--------Approach---------->
<!-------------------------->
<div class="warning"
style="background-color:#fffae0; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<p><span></p>
<p style="text-align:center; font-size:24px">
<b>Approach</b>
</p>
<p style="margin-left:1em;">
Since infrastructure development is a non-cost impact on rail transport,
we can use share weights to represent this impact. Share weights are
calibration parameters and not directly related to any “real-world”
value, so it is usually necessary to test a range of share weight
modifications to obtain the desired effect. The Model Interface query
<code>transport subsector share-weights</code> can be used to check the
reference share weights for transportation modes.
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!--------Background---------->
<!-------------------------->
<!-------------------------------------->
<!---Background - Share weights---------->
<!-------------------------------------->
<div class="warning"
style="background-color:#EFFFC9; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<p><span></p>
<p style="text-align:center; font-size:24px">
<b>Background - Share weights</b>
</p>
<p style="margin-left:1em;">
Share weights are assigned to different subsectors and technology
choices in GCAM to represent non-cost factors of consumer choice. They
are used primarily to calibrate market shares to historical data but can
also be modified to reflect factors such as infrastructure development
or shifting societal preferences. For more information on share weights
and how they are used in GCAM’s economic choice functions, see the <a
href="https://jgcri.github.io/gcam-doc/choice.html">GCAM economic
choice</a> documentation. Share weights should not be used to represent
cost-related policies. Additionally, shareweight interpolation rules
(<code>fixed</code>, <code>linear</code>, or <code>s-curve</code>) can
be used to automatically interpolate shareweights between given years.
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
<!---GCAM Implementation---->
<!-------------------------->
<div class="warning"
style="background-color:#F5E5E1; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="text-align:center; font-size:24px">
<b>GCAM Implementation</b>
</p>
<p style="margin-left:1em;">
<ol style="list-style-type: decimal">
<li>Create a folder in the input directory:
<code>./gcam-core/input/addons</code>.</li>
<li>Download the example xml file <a
href="https://github.com/JGCRI/gcam_training/blob/main/examples/adjust_shareweight_rail.xml">adjust_shareweight_rail.xml</a>
to the folder.</li>
<li>Adjust share weights and interpolation rules (<code>linear</code>,
<code>fixed</code>, or <code>s-curve</code>) to the “Passenger Rail”
<code>tranSubsector</code> tag in the XML. Add/ remove subsectors as
desired.</li>
</ol>
</p>
<p style="margin-bottom:1em; margin-left:1em; text-align:center;">
<b>Example xml structure</b> <br>
<img src="images/adjust_shareweight_rail.png"> <br> <i>Note: The first
interpolation rule must include delete=“1” in order to override all of
the previous (default) interpolation rules.</i>
</p>
<p style="margin-left:1em;">
<ol start="7" style="list-style-type: decimal">
<li>Save the xml and then point to it in your configuration file by
adding the lines:
<p style='font-size:0.8em'>
<code>&lt;Value name = "scen"&gt;../input/addons/adjust_shareweight_rail.xml&lt;/Value&gt;</code></li>
</ol>
</p>
</p>
<p></span></p>
</div>
<p><br></p>
<!-- <!-------------------------->
<!-- # Batch runs -->
<!-- <!-------------------------->
<!-- <p align="center"> <img src="images/divider.png"></p> -->
<!-- <br> -->
<!-- <!-------------------------->
<!-- # Parallel runs -->
<!-- <!-------------------------->
<!-- <p align="center"> <img src="images/divider.png"></p> -->
<!-- <br> -->
<!-- <!-------------------------->
<!-- # XMLs -->
<!-- <!-------------------------->
<!-- <p align="center"> <img src="images/divider.png"></p> -->
<!-- ## Create XML from csv -->
<!-- *** -->
<!-- <br> -->
<!-------------------------->
</div>
</div>
<div id="extracting-gcam-data" class="section level1">
<h1>Extracting GCAM data</h1>
<!-------------------------->
<p align="center">
<img src="images/divider.png">
</p>
<!-- ## rgcam -->
<!-- *** -->
<!-- ## modelInterface -->
<!-- *** -->
<div id="gcamextractor" class="section level2">
<h2>gcamextractor</h2>
<hr />
<p><code>gcamextractor</code> is an R package which allows users to
extract selected parameters from a GCAM database into standardized
tables with consistent column names for easier downstream plotting and
analysis. <code>gcamextractor</code> also converts the extracted data
into more commonly used units. Detailed documentation for
<code>gcamextractor</code> can be found in the <a
href="https://jgcri.github.io/gcamextractor/">user guide</a>. A simple
example is provided below on how to extract data from GCAM using
<code>gcamextractor</code> in <code>R</code>. Users can select
individual parameters listed <a
href="https://jgcri.github.io/gcamextractor/articles/vignette_parameters.html">here</a>
or simply select <code>summary</code> for a selection of commonly used
diagnostic parameters.</p>
<pre class="r"><code># In R
# devtools::install_github(&quot;JGCRI/gcamextractor&quot;)
library(gcamextractor)
gcamextractor::params # Check all available params

data &lt;- gcamextractor::readgcam(gcamdatabase = &quot;FULL/PATH/TO/GCAM_DATABASE&quot;,
                                paramsSelect = c(&quot;pop&quot;,&quot;elecByTechTWh&quot;,&quot;watWithdrawBySec&quot;),
                                regionsSelect = c(&quot;Argentina&quot;,&quot;Colombia&quot;))

dataGCAM$data # View all data
dataGCAM$dataAggClass1 # Aggregated to class 1 vars (Example file linked above)
dataGCAM$dataAggClass2 # Aggregated to class 2 vars
dataGCAM$dataAggParam # Aggregated to params</code></pre>
<p><br></p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Files Used
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Description
</th>
<th style="text-align:left;color: white !important;background-color: #2A2A2A !important;">
Link
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
gcamDataTable_aggClass1.csv
</td>
<td style="text-align:left;">
One of the outputs from the gcamextractor examples shown here.
</td>
<td style="text-align:left;">
<a href="https://github.com/JGCRI/gcam_training/blob/main/examples/gcamDataTable_aggClass1.csv" style="     ">Link</a>
</td>
</tr>
</tbody>
</table>
<p><br></p>
<!-------------------------->
</div>
</div>
<div id="plotting-data" class="section level1">
<h1>Plotting Data</h1>
<!-------------------------->
<p align="center">
<img src="images/divider.png">
</p>
<div id="rchart" class="section level2 tabset tabset-pills">
<h2 class="tabset tabset-pills">rchart</h2>
<hr />
<!-- *** -->
<p><code>rchart</code> is an R package which allows users to plot
<code>gcamextractor</code> outputs into charts with standardized JGCRI
colors. Detailed documentation for <code>rchart</code> can be found in
the <a href="https://jgcri.github.io/rchart/">user guide</a>. Some
examples are provided below using example data uploaded to the
<code>gcam_training</code> repository. Users can extract the data from
their own databases using the gcamextractor example shown <a
href="#gcamextractor">above</a>. Combining <code>gcamextractor</code>
and <code>rchart</code> you can plot very detailed data in just one line
of code.</p>
<pre class="r"><code># devtools::install_github(&quot;JGCRI/rchart&quot;) # If needed
library(rchart); 
url &lt;- &quot;https://raw.githubusercontent.com/JGCRI/gcam_training/main/examples/gcamDataTable_aggClass1.csv&quot;
data &lt;- read.csv(url) # Read Data
charts &lt;- rchart::chart(data, save=F, scenRef = &quot;GCAM_SSP2&quot;) # Plot data
names(charts) # See list of charts</code></pre>
<p>Below you can see the outputs for all the different charts
produced.</p>
<div id="chart_param" class="section level3">
<h3>chart_param</h3>
<!-- To force show code add ```{r class.source = 'fold-show'} -->
<pre class="r"><code>charts$chart_param_Argentina</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_param-1.png" width="100%" /></p>
<pre class="r"><code>charts$chart_param_Colombia</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_param-2.png" width="100%" /></p>
<p><br></p>
</div>
<div id="chart_param_diff" class="section level3">
<h3>chart_param_diff</h3>
<pre class="r"><code>charts$chart_param_diff_absolute_Argentina</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_param_diff-1.png" width="100%" /></p>
<pre class="r"><code>charts$chart_param_diff_percent_Argentina</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_param_diff-2.png" width="100%" /></p>
<pre class="r"><code>charts$chart_param_diff_absolute_Colombia</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_param_diff-3.png" width="100%" /></p>
<pre class="r"><code>charts$chart_param_diff_percent_Colombia</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_param_diff-4.png" width="100%" /></p>
<p><br></p>
</div>
<div id="chart_class" class="section level3">
<h3>chart_class</h3>
<pre class="r"><code>charts$chart_class_Argentina</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_class-1.png" width="100%" /></p>
<pre class="r"><code>charts$chart_class_Colombia</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_class-2.png" width="100%" /></p>
<p><br></p>
</div>
<div id="chart_class_diff" class="section level3">
<h3>chart_class_diff</h3>
<pre class="r"><code>charts$chart_class_diff_absolute_Argentina</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_class_diff-1.png" width="100%" /></p>
<pre class="r"><code>charts$chart_class_diff_percent_Argentina</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_class_diff-2.png" width="100%" /></p>
<pre class="r"><code>charts$chart_class_diff_absolute_Colombia</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_class_diff-3.png" width="100%" /></p>
<pre class="r"><code>charts$chart_class_diff_percent_Colombia</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_class_diff-4.png" width="100%" /></p>
<p><br></p>
</div>
<div id="chart_region" class="section level3">
<h3>chart_region</h3>
<pre class="r"><code>charts$chart_region_absolute</code></pre>
<p><img src="gcam_files/figure-html/rchart_examples_region-1.png" width="100%" /></p>
<p><br></p>
<!-------------------------->
</div>
</div>
</div>
<div id="git" class="section level1">
<h1>Git</h1>
<!-------------------------->
<p align="center">
<img src="images/divider.png">
</p>
<div id="from-stashbitbucket-to-github" class="section level2">
<h2>From Stash(Bitbucket) to Github</h2>
<p>This section discussed how to push a development branch of GCAM from
stash onto github.</p>
<div class="warning"
style="background-color:#fffae0; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="margin-top:1em; text-align:center">
<b>From Stash to Github</b>
</p>
<p style="margin-left:1em;">
<ol style="list-style-type: decimal">
<li>Create a new repository in github: <a href="https://github.com/new"
class="uri">https://github.com/new</a></li>
<li>Give it a relevant name such as <code>gcam_v5p4_projectx</code></li>
<li>Copy the clone address of the new repo e.g. <a
href="https://github.com/USERNAME/gcam_v5p4_projectx.git"
class="uri">https://github.com/USERNAME/gcam_v5p4_projectx.git</a></li>
<li>Push your local stash branch changes up to this branch:
<p></li>
</ol>
<pre><code>git push https://github.com/USERNAME/gcam_v5p4_projectx.git local_branch_name:new_branch_name</code></pre>
</p>
<ol start="5" style="list-style-type: decimal">
<li>Continue to work stash branch as usual and also push up latest
changes to github as above.
<p></li>
</ol>
<pre><code>git status
git add files_changed 
git commit -m &quot;commit message&quot;
git push https://github.com/USERNAME/gcam_v5p4_projectx.git local_branch_name:new_branch_name</code></pre>
</p>
</p>
<p></span></p>
</div>
<p><br></p>
<!-------------------------->
</div>
</div>
<div id="send-to-zenodo" class="section level1">
<h1>Send to Zenodo</h1>
<!-------------------------->
<p align="center">
<img src="images/divider.png">
</p>
<div id="large-files-from-hpc-to-zenodo" class="section level2">
<h2>Large files from HPC to Zenodo</h2>
<p>This section discusses how to send large files (upto 50GB) directly
to zenodo from an HPC. For example a compiled zipped version of GCAM.
Using a traditional method of uploading directly from the broswer often
doesn’t work and keeps crashing during the upload. Using the method
below you can submit the upload as a job.</p>
<div class="warning"
style="background-color:#fffae0; border-left: solid #1f1f1f 4px; border-radius: 4px; padding:0.7em;">
<span>
<p style="margin-top:1em; text-align:center">
<b>HPC to Zenodo</b>
</p>
<p style="margin-left:1em;">
<ol style="list-style-type: decimal">
<li>Prepare your zipped file and save it on the HPC:
<strong>&lt;path/to/my_zipped_file.zip&gt;</strong></li>
<li>Sign-in to your Zenodo account</li>
<li><strong>DEPOSITION_ID</strong> is the first thing you need:
<ol style="list-style-type: lower-alpha">
<li>Create a new upload, ask Zenodo to create a DOI, and save the
draft.</li>
<li>Look at the url in your browser while on your draft deposition</li>
<li>Save the numeric part of the URL</li>
<li>For example in <a href="https://zenodo.org/uploads/10014561"
class="uri">https://zenodo.org/uploads/10014561</a> the deposition_id is
<strong>10014561</strong></li>
</ol></li>
<li><strong>PERSONAL_ACCESS_TOKEN</strong> is what you need next:
<ol style="list-style-type: lower-alpha">
<li>Click on your name in the top right</li>
<li>Click on <strong>Applications</strong></li>
<li>Click on <strong>new token</strong> and give it a name
e.g. <strong>my_name_zenodo_pat</strong></li>
<li>Copy and Save the PAT in a safe place. You can only view it once
during creation.</li>
<li>It will be something like:
<strong>9cg22jj3nHSzdglTIOat6ABlyeYvnw07g1kv8tgFx7E2nbiTimf8Wur1kfFI</strong></li>
</ol></li>
<li><strong>BUCKET_URL</strong>: Next you need to get the bucket ID for
your deposition using the zenodo API
<ol style="list-style-type: lower-alpha">
<li>On your HPC console (PuTTY) Use the following commands:</li>
</ol>
<pre><code>cd &lt;path/to/my_files

curl -H &quot;Accept: application/json&quot; -H &quot;Authorization: Bearer &lt;PERSONAL_ACCESS_TOKEN&gt;&quot; &quot;https://www.zenodo.org/api/deposit/depositions/&lt;DEPOSITION_ID&gt;&quot; &gt; find_bucket.json

# Example: curl -H &quot;Accept: application/json&quot; -H &quot;Authorization: Bearer 9cg22jj3nHSzdglTIOat6ABlyeYvnw07g1kv8tgFx7E2nbiTimf8Wur1kfFI&quot; &quot;https://www.zenodo.org/api/deposit/depositions/10014561&quot; &gt; find_bucket.json</code></pre>
<ol start="3" style="list-style-type: lower-alpha">
<li>This will save the output to <strong>find_bucket.json</strong>. Open
the file with an editor and search for “bucket”.</li>
<li>Save the <strong>BUCKET_URL</strong> (e.g. <a
href="https://zenodo.org/api/files/71e6b638-80a3-4f35-9c54-447490b4cb72"
class="uri">https://zenodo.org/api/files/71e6b638-80a3-4f35-9c54-447490b4cb72</a>)</li>
</ol></li>
<li><strong>SEND TO ZENODO</strong>: Now you are ready to send your file
up to Zenodo:
<ol style="list-style-type: lower-alpha">
<li>On your HPC console (PuTTY) Use the following commands:</li>
</ol>
<pre><code>cd &lt;path/to/my_files&gt;

curl -v -# -X PUT -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/octet-stream&quot; -H &quot;Authorization: Bearer &lt;PERSONAL_ACCESS_TOKEN&gt;&quot; -T &lt;path/to/my_zipped_file.zip&gt; &lt;BUCKET_URL&gt;/&lt;NAME_OF_ZIP_FILE&gt;&quot;

# Example: curl -v -# -X PUT -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/octet-stream&quot; -H &quot;Authorization: Bearer 5cg33jj3nHSadglTIOst7ABlyeYvnw07g1kv8tgFx7E2nbiTimf8Wur1kfFI&quot; -T /rcfs/projects/gcims/projects/seasia/gcamv6p0_seasia.zip &quot;https://zenodo.org/api/files/71e6b638-80a3-4f35-9c54-332490b4cb71/gcamv6p0_seasia.zip&quot;</code></pre></li>
<li><strong>BASH Script</strong>: You can also do this by submitting a
job as follows:
<ol style="list-style-type: lower-alpha">
<li>Create <strong>send_to_zenodo.sh</strong> script (Replace
PROJECT_ACCOUNT_NAME, <code>&lt;path/to/my_zipped_file.zip&gt;</code>
,<code>&lt;BUCKET_URL&gt;</code>,
<code>&lt;NAME_OF_ZIP_FILE&gt;</code>)</li>
</ol>
<pre><code>#!/bin/sh
#SBATCH --partition=slurm,short,shared
#SBATCH --nodes=1
#SBATCH --time=300
#SBATCH --job-name=lhs
#SBATCH -A &lt;PROJECT_ACCOUNT_NAME&gt;

# README -----------------------------------------------------------------------
#
# This script will send a zipped file up to Zenodo
# sbatch send_to_zenodo.sh
#
# ------------------------------------------------------------------------------

echo &quot;sending to Zenodo&quot;

date

cd &lt;PATH/TO/MY_FILES&gt;

curl -v -# -X PUT -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/octet-stream&quot; -H &quot;Authorization: Bearer &lt;PERSONAL_ACCESS_TOKEN&gt;&quot; -T &lt;path/to/my_zipped_file.zip&gt; &lt;BUCKET_URL&gt;/&lt;NAME_OF_ZIP_FILE&gt;&quot;

date

echo &#39;completed&#39;</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>Then submit the job: <code>sbatch send_to_zenodo.sh</code></li>
<li>Check your job status: <code>squeue -u &lt;USERNAME&gt;</code></li>
<li>Check your SLURM file to see if the file was succesfully
submitted.</li>
</ol></li>
</ol>
</p>
<p></span></p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
